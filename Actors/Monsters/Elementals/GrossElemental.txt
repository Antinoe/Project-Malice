ACTOR PM_GrossElemental : PMMonsterBase
{
  Health 500
  Radius 31
  Height 56
  Mass 400
  Speed 8
  PainChance 160
  BloodColor "Green"
  DamageType "Poison"
  Obituary "$o was melted by the acid vomit of the Gross Elemental, Eugh!"
  SeeSound "GrossElem/Sight"
  DeathSound "GrossElem/Die"
  ActiveSound "GrossElem/Idle"
  PainSound "GrossElem/Pain"
  AttackSound "GrossElem/Fire"
  Tag "Gross Elemental"
  Species "Elemental"
  Bloodtype "PM_PestilenceBloodBase"
  +DONTHARMSPECIES
  +FLOATBOB
   FloatBobStrength 0.4
   +NOGRAVITY
    +FLOAT 
  +MissileMore
  states
   {
  Spawn:
   DFLY A 10 PM_Look
   Loop
  Look:
   DFLY AA 3 PM_LookingForPlayer()
   DFLY BB 3 PM_LookingForPlayer()
   DFLY CC 3 PM_LookingForPlayer()
   Loop
  Spotted:
   TNT1 A 0 PM_AlertSound()
  See2:
   DFLY AA 3 A_Chase
   DFLY BB 3 A_FastChase
   DFLY CC 3 A_Chase
   Loop
  Missile:
   DFLY D 0 A_Jump(156,"Vomit")
   DFLY D 4 A_FaceTarget
   DFLY E 4 A_FaceTarget
   TNT1 A 0 A_PlaySound("Afflicted/Puke")
   TNT1 AAAAA 0 A_SpawnItemEx("HostPoisonSplash",random(5,10),random(-2,2),random(-3,0),random(5,10),random(-3,3),frandom(-4,4))
   DFLY F 0 A_PainAttack("PM_Rotfly",0,PAF_NOSKULLATTACK)
   DFLY F 2 A_FaceTarget
   Goto See2
  Vomit:
   TNT1 A 0 A_PlaySound("Afflicted/Puke")
   DFLY DDDDDDDDD 1 
   {
   A_FaceTarget;
   A_SpawnItemEx("HostPoisonSplash",random(5,10),random(-2,2),random(-3,0),random(5,10),random(-3,3),frandom(-4,4));
   }
   DFLY EEEEEEEEFFFFFFFF 1
   {
   A_FaceTarget;
   A_SpawnItemEx("HostPoisonSplash",random(5,10),random(-2,2),random(-3,0),random(5,10),random(-3,3),frandom(-4,4));
   }
   TNT1 AAAA 0 A_SpawnItemEx("HostPoisonSplash",random(5,10),random(-2,2),random(-3,0),random(5,10),random(-3,3),frandom(-4,4))
   TNT1 A 0 A_PlaySound("GrossElem/Spit",CHAN_5)
   DFLY FFFF 0 A_CustomMissile("PM_GElemVenomBurst", 23, 0, random(-6,6),CMF_OFFSETPITCH,random(-2,2))
   DFLY F 9 A_CustomMissile("PM_GElemVenomBurst", 23, 0, random(-6,6),CMF_OFFSETPITCH,random(-2,2))
   DFLY F 2 A_FaceTarget
   Goto See2
  Pain:
   DFLY G 4 Fast
   DFLY G 0 A_Wander
   DFLY G 0 A_Wander
   DFLY G 4 Fast A_Pain
   Goto See2
  Death:
   DFLY HI 4 A_Scream
   DFLY IJ 3 Bright
   TNT1 A 0 A_PlaySound("Blob/Explode",CHAN_6)
   TNT1 A 0 A_PlaySound("GBloodSplashBig",CHAN_7)
   TNT1 AAAAAA 0 A_SpawnItemEx("PM_PestilenceMeatChunkLauncher",0,0,random(10,30),0,0,0,0,SXF_NOCHECKPOSITION)
   TNT1 AAAAAAAA 0 A_SpawnItemEx("PM_PestilenceBloodMist",0,0,20,0,0,0,0,SXF_NOCHECKPOSITION)
   TNT1 AA 0 A_SpawnItemEx("PM_PestilenceBloodyCloudBig",0,0,20,0,0,0,0,SXF_NOCHECKPOSITION)
   TNT1 AAAAA 0 A_SpawnItemEx("PM_PestilenceMeatChunkLauncher",0,0,random(10,30),0,0,0,0,SXF_NOCHECKPOSITION)
   TNT1 A 5
   TNT1 AAA 0 A_SpawnItemEx("PM_VenomMaggot",random(-25,25),random(-25,25),20,random(-3,3),random(-3,3),random(5,14),0,SXF_NOCHECKPOSITION)
   Stop
  }
}

ACTOR PM_VenomMaggot : PMMonsterBase
{
    Health 50
    Scale 0.40
    Radius 12
    Height 20
    Mass 75
    PainChance 150
    Speed 7
	Tag "Venom Maggot"
    BloodType "PM_PestilenceBloodBase"
    BloodColor "Green"
    Obituary "$o's flesh was infected by the Venom Maggot's deadly bite, Gross!"
    SeeSound "VenMaggot/Sight"
    DeathSound "VenMaggot/Die"
    ActiveSound "VenMaggot/Idle"
    PainSound "VenMaggot/Pain"
    AttackSound "VenMaggot/Melee"
    +FLOORCLIP
    -COUNTKILL
    States
    {
   Spawn:
     MA1G AB 5 PM_Look()
     Loop
   Look:
     MA1G AABBCCDD 2 Fast PM_LookingForPlayer()
     Loop
   Spotted:
     TNT1 A 0 PM_AlertSound()
     Goto See
   See:
     MA1G AABBCCDD 2 Fast A_Chase
    Loop
   Melee:
     MA1G EF 6 Fast A_FaceTarget
     MA1G G 6 Fast A_CustomMeleeAttack(random(2, 6) * 4, "VenMaggot/Melee", "")
    Goto See
   Pain:
     MA1G H 2 Fast
     MA1G H 2 Fast A_Pain
    Goto See
   Death:
     MA1G I 4 A_Scream
     TNT1 AA 0 A_SpawnItemEx("PM_PestilenceBloodMist",random(-2,2),random(-2,2),random(2,5),0,0,0,0,SXF_NOCHECKPOSITION)
	 TNT1 A 0 A_SpawnItemEx("PM_PestilenceBloodMulti",random(-2,2),random(-2,2),random(2,5),random(-2,2),random(-2,2),random(2,5),0,SXF_NOCHECKPOSITION)
	 TNT1 AAA 0 A_SpawnItemEx("PM_PestilenceMeatChunkLauncher",random(-2,2),random(-2,2),random(2,5),0,0,0,0,SXF_NOCHECKPOSITION,130)
     MA1G J 4
     MA1G K 1 A_NoBlocking
     MA1G L 1
     MA1G M 2
     MA1G N -1
    Stop

  }
}

ACTOR PukeTrail
{
   
   +BRIGHT
   +NOINTERACTION
   RenderStyle Add
   Gravity 0.2
   Scale 0.40
   States
    {
     Spawn:
     Death:
      VBAL A 2 A_SetScale(1.0)
      VBAL B 2 A_SetScale(0.9)
      VBAL A 2 A_SetScale(0.8)
      VBAL B 2 A_SetScale(0.7)
      VBAL A 2 A_SetScale(0.6)
      VBAL B 2 A_SetScale(0.5)
      VBAL A 2 A_SetScale(0.4)
      VBAL B 2 A_SetScale(0.3)
      VBAL A 2 A_SetScale(0.2)
      VBAL B 2 A_SetScale(0.1)
      Stop
     }
   }